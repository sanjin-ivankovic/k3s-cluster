# Notes on Terraform Variables

## Unused Variables

This file documents variables that have been removed from Terraform but are maintained for documentation and future use.

### Configuration Variables

These variables were previously defined and might be re-implemented in the future:

```hcl
# SSH key management
variable "overwrite_ssh_keys" {
  description = "Whether to overwrite existing SSH keys on disk. If false and keys exist, they will be reused. If false and keys don't exist, new ones will be generated."
  type        = bool
  default     = false
}

variable "cleanup_ssh_keys" {
  description = "Whether to remove SSH keys on terraform destroy. If true, keys generated by Terraform will be removed during destroy. If false, they will be kept."
  type        = bool
  default     = false
}

variable "save_ssh_key" {
  description = "Whether to save generated SSH keys to disk"
  type        = bool
  default     = true
}

variable "ssh_key_file" {
  description = "Path to SSH private key file"
  type        = string
  default     = "~/.ssh/k3s_id_ed25519"
}

# Operation timeouts
variable "timeouts" {
  description = "Timeouts for various operations"
  type = object({
    create = string
    update = string
    delete = string
  })
  default = {
    create = "20m"
    update = "15m"
    delete = "10m"
  }
}

# Proxmox configuration
variable "proxmox_node" {
  description = "Proxmox node name"
  type        = string
  default     = "pve"
}

# Cluster scaling
variable "control_plane_count" {
  description = "Number of control plane nodes"
  type        = number
  default     = 1
}

variable "worker_count" {
  description = "Number of worker nodes"
  type        = number
  default     = 2
}

# VM specifications
# Note: vm_image is now used in the main configuration
variable "vm_memory" {
  description = "Memory allocation per VM in MB"
  type        = number
  default     = 4096
}

variable "vm_cpu" {
  description = "CPU cores per VM"
  type        = number
  default     = 2
}

# Network configuration
variable "network_name" {
  description = "Name of the network to use"
  type        = string
  default     = "default"
}

variable "network_cidr" {
  description = "CIDR range for the cluster network"
  type        = string
  default     = "10.0.0.0/24"
}

variable "create_network" {
  description = "Whether to create a new network"
  type        = bool
  default     = false
}

variable "enable_firewall" {
  description = "Whether to enable firewall rules"
  type        = bool
  default     = true
}

# Integration
variable "inventory_path" {
  description = "Path for generated Ansible inventory"
  type        = string
  default     = "../ansible"
}

# Tags
variable "owner_tag" {
  description = "Owner tag to apply to resources"
  type        = string
  default     = "admin"
}
```

### Usage Notes

If you need to reintroduce any of these variables:

1. Copy the variable definition back to appropriate `.tf` file
2. Update any references in code
3. Document the reintroduction in this file

## Implementation Guide

### Adding Variables

When adding variables from this file back to the codebase:

1. Consider which file is most appropriate:

   - `variables.tf` - Core variables used throughout the project
   - Module-specific variables files for scoped variables

2. Update validation rules if necessary

3. Document the usage pattern

### Using Variables in Configuration

Example of how to use these variables when reinstated:

```hcl
module "example" {
  source = "./modules/example"

  # Network configuration
  network_name = var.network_name
  network_cidr = var.network_cidr

  # VM configuration
  vm_memory = var.vm_memory
  vm_cpu = var.vm_cpu
}
```
